<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>How It Works | React Voice Action Router</title>
    <meta name="description" content="The headless voice command router for React">
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/react-voice-action-router/assets/style.cOgsPNpq.css" as="style">
    <link rel="preload stylesheet" href="/react-voice-action-router/vp-icons.css" as="style">
    
    <script type="module" src="/react-voice-action-router/assets/app.87YplAeV.js"></script>
    <link rel="preload" href="/react-voice-action-router/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/react-voice-action-router/assets/chunks/theme.DjZWqHwh.js">
    <link rel="modulepreload" href="/react-voice-action-router/assets/chunks/framework.DCsj0v3X.js">
    <link rel="modulepreload" href="/react-voice-action-router/assets/how-it-works.md.CUYmIQ3J.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0b0ada53></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0b0ada53>Skip to content</a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar" data-v-ae24b3ad data-v-6aa21345><div class="wrapper" data-v-6aa21345><div class="container" data-v-6aa21345><div class="title" data-v-6aa21345><div class="VPNavBarTitle has-sidebar" data-v-6aa21345 data-v-1168a8e4><a class="title" href="/react-voice-action-router/" data-v-1168a8e4><!--[--><!--]--><!----><span data-v-1168a8e4>React Voice Action Router</span><!--[--><!--]--></a></div></div><div class="content" data-v-6aa21345><div class="content-body" data-v-6aa21345><!--[--><!--]--><div class="VPNavBarSearch search" data-v-6aa21345><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-6aa21345 data-v-dc692963><span id="main-nav-aria-label" class="visually-hidden" data-v-dc692963> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/react-voice-action-router/" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Home</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/react-voice-action-router/getting-started.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Get Started</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/react-voice-action-router/api-reference.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>API Reference</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-6aa21345 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-6aa21345 data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/Nouman64-cat/react-voice-action-router" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-6aa21345 data-v-bb2aa2f0 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-cf11d7a2><span class="vpi-more-horizontal icon" data-v-cf11d7a2></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><!----><!--[--><!--[--><!----><div class="group" data-v-bb2aa2f0><div class="item appearance" data-v-bb2aa2f0><p class="label" data-v-bb2aa2f0>Appearance</p><div class="appearance-action" data-v-bb2aa2f0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bb2aa2f0 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><div class="group" data-v-bb2aa2f0><div class="item social-links" data-v-bb2aa2f0><div class="VPSocialLinks social-links-list" data-v-bb2aa2f0 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/Nouman64-cat/react-voice-action-router" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6aa21345 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-6aa21345><div class="divider-line" data-v-6aa21345></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-8a42e2b4><button data-v-8a42e2b4>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-319d5ca6><div class="curtain" data-v-319d5ca6></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-319d5ca6><span class="visually-hidden" id="sidebar-aria-label" data-v-319d5ca6> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 has-active" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>Introduction</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/react-voice-action-router/getting-started.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Getting Started</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/react-voice-action-router/how-it-works.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>How It Works</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>Guide</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/react-voice-action-router/adapters.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>AI Adapters</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/react-voice-action-router/examples.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Examples</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>Reference</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/react-voice-action-router/api-reference.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>API Reference</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>On this page</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _react-voice-action-router_how-it-works" data-v-39a288b8><div><h1 id="how-it-works" tabindex="-1">How It Works <a class="header-anchor" href="#how-it-works" aria-label="Permalink to &quot;How It Works&quot;">​</a></h1><p>This page explains the internal architecture and design decisions behind React Voice Action Router.</p><h2 id="overview" tabindex="-1">Overview <a class="header-anchor" href="#overview" aria-label="Permalink to &quot;Overview&quot;">​</a></h2><p>React Voice Action Router is built on three core concepts:</p><ol><li>A centralized command registry</li><li>A two-phase matching algorithm</li><li>An adapter pattern for AI providers</li></ol><h2 id="the-command-registry" tabindex="-1">The Command Registry <a class="header-anchor" href="#the-command-registry" aria-label="Permalink to &quot;The Command Registry&quot;">​</a></h2><p>At the heart of the library is a command registry managed by the VoiceControlProvider. This registry is a Map data structure that stores all currently registered voice commands.</p><h3 id="how-registration-works" tabindex="-1">How Registration Works <a class="header-anchor" href="#how-registration-works" aria-label="Permalink to &quot;How Registration Works&quot;">​</a></h3><p>When you use the useVoiceCommand hook, the following happens:</p><ol><li>The hook calls the register function from the VoiceContext</li><li>The command is added to the internal Map using its ID as the key</li><li>The state is updated to reflect the new list of active commands</li><li>When the component unmounts, the cleanup function calls unregister to remove the command</li></ol><p>This design ensures:</p><ul><li>Commands are automatically cleaned up when components unmount</li><li>There are no duplicate command IDs (later registrations overwrite earlier ones)</li><li>Command lookups are fast with O(1) time complexity</li></ul><h3 id="the-proxy-pattern" tabindex="-1">The Proxy Pattern <a class="header-anchor" href="#the-proxy-pattern" aria-label="Permalink to &quot;The Proxy Pattern&quot;">​</a></h3><p>The useVoiceCommand hook uses a clever proxy pattern to handle action updates:</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// The hook keeps a ref to the latest command</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> commandRef</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useRef</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(command);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// The registered command calls through the ref</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> proxyCommand</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  id: command.id,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  description: command.description,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> commandRef.current.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><p>This means if your action function changes due to state updates, you do not need to re-register the command. The proxy always calls the latest version of the action.</p><h2 id="two-phase-matching" tabindex="-1">Two-Phase Matching <a class="header-anchor" href="#two-phase-matching" aria-label="Permalink to &quot;Two-Phase Matching&quot;">​</a></h2><p>When a voice transcript is processed, the router uses a two-phase matching algorithm:</p><h3 id="phase-1-exact-match" tabindex="-1">Phase 1: Exact Match <a class="header-anchor" href="#phase-1-exact-match" aria-label="Permalink to &quot;Phase 1: Exact Match&quot;">​</a></h3><p>The first phase looks for an exact match between the transcript and registered phrases:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>User says: &quot;go home&quot;</span></span>
<span class="line"><span>Registered phrases: [&quot;go home&quot;, &quot;open settings&quot;, &quot;toggle theme&quot;]</span></span>
<span class="line"><span>Result: Exact match found for &quot;go home&quot; -&gt; Command executes immediately</span></span></code></pre></div><p>This phase has zero latency because it does not require any API calls. If your users know the exact phrases, they get instant response.</p><h3 id="phase-2-ai-fuzzy-match" tabindex="-1">Phase 2: AI Fuzzy Match <a class="header-anchor" href="#phase-2-ai-fuzzy-match" aria-label="Permalink to &quot;Phase 2: AI Fuzzy Match&quot;">​</a></h3><p>If no exact match is found, the transcript is sent to the AI adapter:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>User says: &quot;take me to the homepage&quot;</span></span>
<span class="line"><span>No exact match found</span></span>
<span class="line"><span>AI analyzes: &quot;take me to the homepage&quot; against all command descriptions</span></span>
<span class="line"><span>AI returns: { commandId: &quot;go_home&quot; }</span></span>
<span class="line"><span>Command executes</span></span></code></pre></div><p>This phase handles natural language variations and understands intent even when the exact words differ.</p><h2 id="the-adapter-pattern" tabindex="-1">The Adapter Pattern <a class="header-anchor" href="#the-adapter-pattern" aria-label="Permalink to &quot;The Adapter Pattern&quot;">​</a></h2><p>The library uses an adapter pattern to support multiple AI providers without changing your application code.</p><h3 id="what-is-an-adapter" tabindex="-1">What is an Adapter <a class="header-anchor" href="#what-is-an-adapter" aria-label="Permalink to &quot;What is an Adapter&quot;">​</a></h3><p>An adapter is a function with this signature:</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> LLMAdapter</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  transcript</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  commands</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;{ </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">description</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">phrase</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;{ </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">commandId</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }&gt;;</span></span></code></pre></div><p>Every adapter receives:</p><ul><li>The user&#39;s spoken transcript</li><li>A list of available commands (without the action functions for security)</li></ul><p>Every adapter returns:</p><ul><li>An object with the matching command ID or null</li></ul><h3 id="why-this-design" tabindex="-1">Why This Design <a class="header-anchor" href="#why-this-design" aria-label="Permalink to &quot;Why This Design&quot;">​</a></h3><p>This design has several benefits:</p><ol><li><strong>Provider Independence</strong> - Switch from OpenAI to Gemini by changing one line of code</li><li><strong>Security</strong> - Action functions are never sent to the AI</li><li><strong>Testability</strong> - Create mock adapters for testing without API calls</li><li><strong>Extensibility</strong> - Support any AI provider including local models</li></ol><h2 id="context-aware-commands" tabindex="-1">Context-Aware Commands <a class="header-anchor" href="#context-aware-commands" aria-label="Permalink to &quot;Context-Aware Commands&quot;">​</a></h2><p>One of the key features is that commands are context-aware. The AI only sees commands that are currently registered, which typically means commands from components currently visible on the screen.</p><h3 id="how-this-reduces-costs" tabindex="-1">How This Reduces Costs <a class="header-anchor" href="#how-this-reduces-costs" aria-label="Permalink to &quot;How This Reduces Costs&quot;">​</a></h3><p>Consider an application with 50 total voice commands spread across 10 pages. Without context awareness, every voice input would send all 50 commands to the AI, using more tokens and increasing costs.</p><p>With React Voice Action Router:</p><ul><li>Page A has 5 commands registered</li><li>User speaks on Page A</li><li>Only 5 commands are sent to the AI</li><li>Token usage is reduced by 90%</li></ul><h3 id="how-this-reduces-hallucinations" tabindex="-1">How This Reduces Hallucinations <a class="header-anchor" href="#how-this-reduces-hallucinations" aria-label="Permalink to &quot;How This Reduces Hallucinations&quot;">​</a></h3><p>AI models can sometimes match a transcript to an unrelated command. With fewer commands in the prompt:</p><ul><li>The AI has less choices to pick from</li><li>The AI is less likely to match to irrelevant commands</li><li>The user experience is more predictable</li></ul><h2 id="the-prompt-engineering" tabindex="-1">The Prompt Engineering <a class="header-anchor" href="#the-prompt-engineering" aria-label="Permalink to &quot;The Prompt Engineering&quot;">​</a></h2><p>Each adapter uses a carefully crafted prompt to guide the AI. Here is the core prompt structure:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>You are a precise Voice Command Router.</span></span>
<span class="line"><span>Your goal is to map the user&#39;s spoken input to the correct Command ID.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>RULES:</span></span>
<span class="line"><span>1. Analyze the user&#39;s input and find the intent.</span></span>
<span class="line"><span>2. Match it to the command with the most relevant description.</span></span>
<span class="line"><span>3. Use fuzzy matching (e.g., &quot;Dark mode&quot; matches &quot;Toggle Theme&quot;).</span></span>
<span class="line"><span>4. If NO command matches the intent, return null.</span></span>
<span class="line"><span>5. Output ONLY valid JSON.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>AVAILABLE COMMANDS:</span></span>
<span class="line"><span>- ID: &quot;nav_home&quot; | Description: &quot;Navigate to the home page&quot;</span></span>
<span class="line"><span>- ID: &quot;toggle_theme&quot; | Description: &quot;Toggle between light and dark mode&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>RESPONSE FORMAT:</span></span>
<span class="line"><span>{ &quot;commandId&quot;: &quot;string_id_or_null&quot; }</span></span></code></pre></div><p>This prompt:</p><ul><li>Clearly defines the task</li><li>Sets expectations for fuzzy matching</li><li>Enforces JSON-only output</li><li>Lists available commands with descriptions</li></ul><h2 id="performance-considerations" tabindex="-1">Performance Considerations <a class="header-anchor" href="#performance-considerations" aria-label="Permalink to &quot;Performance Considerations&quot;">​</a></h2><h3 id="exact-match-first" tabindex="-1">Exact Match First <a class="header-anchor" href="#exact-match-first" aria-label="Permalink to &quot;Exact Match First&quot;">​</a></h3><p>By checking exact matches before calling the AI, the library minimizes latency for known phrases. If users learn the exact phrases, they get sub-millisecond response times.</p><h3 id="minimal-payload" tabindex="-1">Minimal Payload <a class="header-anchor" href="#minimal-payload" aria-label="Permalink to &quot;Minimal Payload&quot;">​</a></h3><p>The library only sends essential data to the AI:</p><ul><li>The transcript</li><li>Command IDs and descriptions</li><li>Action functions are never sent</li></ul><p>This reduces payload size and protects your code.</p><h3 id="no-re-registration-on-render" tabindex="-1">No Re-Registration on Render <a class="header-anchor" href="#no-re-registration-on-render" aria-label="Permalink to &quot;No Re-Registration on Render&quot;">​</a></h3><p>Thanks to the proxy pattern, commands do not re-register on every render. The useVoiceCommand hook only registers once when the component mounts and unregisters once when it unmounts.</p><h2 id="headless-design-philosophy" tabindex="-1">Headless Design Philosophy <a class="header-anchor" href="#headless-design-philosophy" aria-label="Permalink to &quot;Headless Design Philosophy&quot;">​</a></h2><p>React Voice Action Router is intentionally headless, meaning it provides no UI components. This design choice gives you complete control over:</p><ul><li>How voice input is captured (Web Speech API, Deepgram, Whisper, etc.)</li><li>How to display processing states</li><li>Whether to show any UI at all (voice can be completely invisible)</li><li>The look and feel of any voice indicators</li></ul><p>The library handles the complex logic of command registration, routing, and AI matching. You handle everything else.</p></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-e257564d><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-e257564d><span class="visually-hidden" id="doc-footer-aria-label" data-v-e257564d>Pager</span><div class="pager" data-v-e257564d><a class="VPLink link pager-link prev" href="/react-voice-action-router/getting-started.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Previous page</span><span class="title" data-v-e257564d>Getting Started</span><!--]--></a></div><div class="pager" data-v-e257564d><a class="VPLink link pager-link next" href="/react-voice-action-router/adapters.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Next page</span><span class="title" data-v-e257564d>AI Adapters</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-5d98c3a5 data-v-e315a0ad><div class="container" data-v-e315a0ad><p class="message" data-v-e315a0ad>Released under the MIT License.</p><p class="copyright" data-v-e315a0ad>Copyright 2024-present</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"adapters.md\":\"CLFwIVGE\",\"api-reference.md\":\"CPimYgGZ\",\"examples.md\":\"C5Mkevxe\",\"getting-started.md\":\"D8tksjXs\",\"how-it-works.md\":\"CUYmIQ3J\",\"index.md\":\"HkqbkxJP\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"React Voice Action Router\",\"description\":\"The headless voice command router for React\",\"base\":\"/react-voice-action-router/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"Home\",\"link\":\"/\"},{\"text\":\"Get Started\",\"link\":\"/getting-started\"},{\"text\":\"API Reference\",\"link\":\"/api-reference\"}],\"sidebar\":[{\"text\":\"Introduction\",\"items\":[{\"text\":\"Getting Started\",\"link\":\"/getting-started\"},{\"text\":\"How It Works\",\"link\":\"/how-it-works\"}]},{\"text\":\"Guide\",\"items\":[{\"text\":\"AI Adapters\",\"link\":\"/adapters\"},{\"text\":\"Examples\",\"link\":\"/examples\"}]},{\"text\":\"Reference\",\"items\":[{\"text\":\"API Reference\",\"link\":\"/api-reference\"}]}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/Nouman64-cat/react-voice-action-router\"}],\"footer\":{\"message\":\"Released under the MIT License.\",\"copyright\":\"Copyright 2024-present\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>